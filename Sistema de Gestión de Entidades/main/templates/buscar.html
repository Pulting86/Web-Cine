{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <form class="form-inline mb-3" method="get" action="{% url 'buscar' %}">
        <div class="input-group">
            <input type="text" class="form-control" name="q" placeholder="Buscar...">
        </div>

        <div class="form-check form-check-inline ml-2">
            <input class="form-check-input" type="checkbox" name="filtrar" id="filtrar_checkbox" value="Acción">
            <label class="form-check-label" for="filtrar_checkbox">Acción</label>
        </div>

        <div class="form-check form-check-inline ml-2">
            <input class="form-check-input" type="checkbox" name="filtrar" id="filtrar_checkbox" value="Romántica">
            <label class="form-check-label" for="filtrar_checkbox">Romántica</label>
        </div>

        <div class="form-check form-check-inline ml-2">
            <input class="form-check-input" type="checkbox" name="filtrar" id="filtrar_checkbox" value="Animación">
            <label class="form-check-label" for="filtrar_checkbox">Animación</label>
        </div>

        <div class="form-check form-check-inline ml-2">
            <input class="form-check-input" type="checkbox" name="filtrar" id="filtrar_checkbox" value="Terror">
            <label class="form-check-label" for="filtrar_checkbox">Terror</label>
        </div>

        <div class="form-check form-check-inline ml-2">
            <input class="form-check-input" type="checkbox" name="filtrar" id="filtrar_checkbox" value="Ciencia ficción">
            <label class="form-check-label" for="filtrar_checkbox">Ciencia ficción</label>
        </div>
        
        <div class="input-group-append">
            <button class="btn btn-secondary" type="submit">Buscar</button>
        </div>
    </form>

    {% if resultados %}
    <table class="table table-striped">
        <thead class="thead-dark">
            <tr>
                <th>Películas</th>
                <th>Detalle</th>
            </tr>
        </thead>
        <tbody>
            {% for resultado, pelicula in zip_listas %}
            <tr>
                <td>{{ resultado.titulo }}</td>
                <td><a href="{{ pelicula.get_absolute_url }}" class="btn btn-info btn-sm">Ir a detalle</a></td>
            </tr>
            {% endfor %}
        </tbody>
    </table>
    {% else %}
    <div class="alert alert-warning" role="alert">
        No se encontraron resultados.
    </div>
    {% endif %}
</div>
{% endblock %}
